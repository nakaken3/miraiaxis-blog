ãƒ–ãƒ­ã‚°é‹ç”¨æ–¹æ³•


# 0) ï¼ˆåˆå›ã ã‘ï¼šé››å½¢ã‚’ç”¨æ„ã—ã¦ã‚ã‚‹ãªã‚‰ã‚¹ã‚­ãƒƒãƒ—OKï¼‰
#    archetypes/posts/index.md ã‚’ä½œã£ã¦ã‚ã‚‹å‰æã§é€²ã‚ã¾ã™

# 1) è¨˜äº‹ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆï¼ˆbundleï¼‰
hugo new posts/post-1/index.md

# 2) VS Codeã§æœ¬æ–‡ã‚’æ›¸ãï¼ˆç”»åƒã¯åŒã˜ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã‚Œã€ç›¸å¯¾ãƒ‘ã‚¹ã§å‚ç…§ï¼‰
#    content/posts/post-1/index.md ã‚’ç·¨é›†
#    å…¬é–‹æ™‚ã¯ front matter ã‚’ draft:false ï¼† éå»æ—¥æ™‚ã«
# ---
# title: "ã‚¿ã‚¤ãƒˆãƒ«"
# date: 2025-10-24T10:00:00+09:00
# draft: false
# ---

# 3) ï¼ˆä»»æ„ï¼‰ãƒ­ãƒ¼ã‚«ãƒ«ã§ä¸‹æ›¸ãè¡¨ç¤º
hugo server -D

# 4) GitHubã¸pushï¼ˆActionsãŒè‡ªå‹•ãƒ“ãƒ«ãƒ‰&ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰
git add content/posts/post-1         # â† ãƒ•ã‚©ãƒ«ãƒ€ã”ã¨è¿½åŠ 
git commit -m "publish: post-1"
git push
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”cssã ã‘è¿½åŠ 
git add assets/css/extended/custom.css
git rm assets/css/cumtom.css        # â† ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ãŸå ´åˆ
git commit -m "Fix: use extended/custom.css and remove typo cumtom.css"
git push origin <ãƒ–ãƒ©ãƒ³ãƒå>         # ä¾‹: main
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
æ—¥ã€…ã®ã‚³ãƒãƒ³ãƒ‰ã¾ã¨ã‚
è¿½åŠ ï¼ˆæ–°è¦å…¬é–‹ï¼‰

# ä½œæˆ
hugo new posts/<slug>/index.md

# VS Codeã§ç·¨é›† â†’ å…¬é–‹æ™‚ã« draft:false ï¼† date ã‚’â€œéå»â€ã«
git add content/posts/<slug>
git commit -m "publish: <slug>"
git push
æ›´æ–°ï¼ˆæœ¬æ–‡ãƒ»ã‚¿ã‚¤ãƒˆãƒ«ãƒ»ç”»åƒã®å¤‰æ›´ï¼‰

# index.md ã‚„ç”»åƒã‚’ç·¨é›†å¾Œ
git add content/posts/<slug>          # ãƒ•ã‚©ãƒ«ãƒ€ã”ã¨ add ãŒæ¥½
# ä¾‹: git add content/posts/first-test
git commit -m "update: <slug> (æœ¬æ–‡/ç”»åƒ/æ—¥ä»˜ãªã©æ›´æ–°)"
git push
å‰Šé™¤

git rm -r content/posts/<slug>
git commit -m "remove: <slug>"
git push
â€» ã©ã®æ“ä½œã§ã‚‚ push å¾Œã¯ GitHub Actions ãŒè‡ªå‹•ãƒ“ãƒ«ãƒ‰ï¼†FTPSãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¾ã™ã€‚ãƒ–ãƒ©ã‚¦ã‚¶ã¯ ?nocache=1 ã‚’ä»˜ã‘ã¦ç¢ºèªã™ã‚‹ã¨åæ˜ ãŒæ—©ãè¦‹ãˆã¾ã™ã€‚

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
5) ã‚ˆãä½¿ã†é‹ç”¨ã‚³ãƒãƒ³ãƒ‰
* ä¸‹æ›¸ãä¸€è¦§ï¼šhugo list drafts
* æœªæ¥æ—¥ä»˜ä¸€è¦§ï¼šhugo list future
* å…¬é–‹å‰ãƒã‚§ãƒƒã‚¯ï¼ˆæœ¬ç•ªæ¡ä»¶ã§ç”Ÿæˆç¢ºèªï¼‰ï¼šhugo --gc --minify && open public/index.html
* å‰Šé™¤ï¼ˆãƒ•ã‚©ãƒ«ãƒ€å½¢å¼ï¼‰ï¼šgit rm -r content/posts/my-first-post && git commit -m "remove: ..." && git push
    * å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã ã£ãŸæ—§è¨˜äº‹ã¯ git rm content/posts/slug.md ã§OK

6) ãƒˆãƒ©ãƒ–ãƒ«æ™‚ã®ãƒã‚§ãƒƒã‚¯
* /blog/ ãŒçœŸã£ç™½ï¼š
    * è¨˜äº‹ãŒå…¨éƒ¨ draft:true / æœªæ¥æ—¥ä»˜ â†’ draft:false ã¨ éå»æ—¥ä»˜ã«ä¿®æ­£
    * ãã‚Œã§ã‚‚ç™½ã„ â†’ ã„ã¾ã¯ layouts/index.html ã‚’ä¸Šæ›¸ãã—ã¦ä¸€è¦§å¼·åˆ¶è¡¨ç¤ºã«ã—ã¦ã‚ã‚‹ã®ã§ã€åŸºæœ¬è§£æ±ºæ¸ˆã¿
* å³ã‚«ãƒ©ãƒ ã€Œæœ€æ–°ãƒ–ãƒ­ã‚°ã€ãŒç©ºï¼š
    * /blog/index.json ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãï¼ˆé…åˆ—ãŒè¿”ã£ã¦ã„ã‚Œã°OKï¼‰
* localhost ã«é£›ã¶ãƒªãƒ³ã‚¯ãŒå‡ºãŸï¼š
    * ãƒ“ãƒ«ãƒ‰ã¯å¿…ãš --baseURL "https://miraiaxis.com/blog/" ã§
    * å¤ã„HTMLãŒæ®‹ã£ã¦ã„ãŸã‚‰å†ãƒ‡ãƒ—ãƒ­ã‚¤ or å½“è©²è¨˜äº‹ã ã‘å†ã‚¢ãƒƒãƒ—
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

hugo new posts/post-1/index.md

content/
â””â”€ posts/
   â”œâ”€ post-1/index.md
   â”œâ”€ post-2/index.md
   â””â”€ post-3/index.md


ã‚ˆãã‚ã‚‹æ“ä½œï¼ˆå¢—ãˆã¦ããŸã¨ãï¼‰
å…¬é–‹ãƒ•ãƒ­ãƒ¼
1. ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼šhugo server -D
2. OKãªã‚‰ index.md ã® draft: false ã¨éå»æ™‚åˆ»ã«èª¿æ•´
3. ãƒ“ãƒ«ãƒ‰ï¼šhugo --gc --minify
4. åæ˜ ï¼šgit add content/posts/post-1 && git commit -m "publish: post-1" && git push
ç”»åƒã®è¿½åŠ 

content/posts/post-2/diagram.png
â†’ æœ¬æ–‡ï¼š![å›³](diagram.png)
è¨˜äº‹ã®å‰Šé™¤ï¼ˆbundleä¸¸ã”ã¨ï¼‰

git rm -r content/posts/post-2
git commit -m "remove: post-2"
git push
---------------------*****************************************
ç”»åƒã®è¿½åŠ ï¼ˆãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ï¼‰
1. ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨˜äº‹ãƒ•ã‚©ãƒ«ãƒ€ã®ä¸­ã¸å…¥ã‚Œã‚‹

content/posts/first-test/
â”œâ”€ index.md         â† æœ¬æ–‡
â”œâ”€ hero.jpg         â† ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒãªã©
â””â”€ chart.png        â† å›³è¡¨ãªã©
1. æœ¬æ–‡ã‹ã‚‰ç›¸å¯¾ãƒ‘ã‚¹ã§å‚ç…§

![](hero.jpg)                         <!-- ç”»åƒã ã‘ -->
![å‡¦ç†ãƒ•ãƒ­ãƒ¼ã®å›³](chart.png)          <!-- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ç”¨ã®ä»£æ›¿ãƒ†ã‚­ã‚¹ãƒˆ -->
1. ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚„ã‚µã‚¤ã‚ºã‚’å‡ºã—ãŸã„ã¨ãï¼ˆHTMLã§OKï¼‰

<figure>
  <img src="chart.png" alt="å‡¦ç†ãƒ•ãƒ­ãƒ¼ã®å›³" width="720">
  <figcaption>å‡¦ç†ãƒ•ãƒ­ãƒ¼ã®æ¦‚ç•¥å›³</figcaption>
</figure>
1. ç”»åƒã®ã‚³ãƒ„
* ãƒ•ã‚¡ã‚¤ãƒ«åï¼šåŠè§’è‹±æ•°å­—ï¼‹ãƒã‚¤ãƒ•ãƒ³ï¼ˆä¾‹ï¼šuser-flow-01.pngï¼‰
* å½¢å¼ï¼šå†™çœŸâ†’jpg / å›³è¡¨ãƒ»UIâ†’png / å¯èƒ½ãªã‚‰ webp ã‚‚ä½µç”¨
* ã‚µã‚¤ã‚ºï¼šæ¨ª 1200px ç¨‹åº¦ã¾ã§ã€‚åŸå¯¸ãŒå¤§ãã„å ´åˆã¯äº‹å‰ã«åœ§ç¸®ï¼ˆTinyPNGç­‰ï¼‰
* ä»£æ›¿ãƒ†ã‚­ã‚¹ãƒˆï¼ˆalt ã‚„ ![â€¦]ï¼‰ï¼šçŸ­ãå†…å®¹ãŒä¼ã‚ã‚‹æ–‡ã«
1. æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆPDF ç­‰ï¼‰

content/posts/first-test/proposal.pdf
æœ¬æ–‡ï¼š

[ä¼ç”»æ›¸ï¼ˆPDFï¼‰ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰](proposal.pdf)
ãƒ–ãƒ­ã‚°æœ¬æ–‡ã®æ›¸ãæ–¹ï¼ˆæœ€å°ã€œå®Ÿç”¨ï¼‰
æ–°è¦ä½œæˆã€œä¸‹æ›¸ã

hugo new posts/first-test/index.md
# â†’ content/posts/first-test/index.md ãŒè‡ªå‹•ç”Ÿæˆ
ã²ãªå½¢ï¼ˆä¾‹ï¼‰

---
title: "ã¯ã˜ã‚ã¦ã®æŠ•ç¨¿"
date: 2025-10-27T10:00:00+09:00  # å…¬é–‹æ™‚ã¯â€œéå»â€ã®æ—¥æ™‚ã«
draft: true                       # ä¸‹æ›¸ãä¸­ã¯ true / å…¬é–‹æ™‚ã« false
tags: ["ãŠçŸ¥ã‚‰ã›"]
summary: "ã“ã®è¨˜äº‹ã®è¦ç´„ã€‚ãƒˆãƒƒãƒ—ã‚„SNSã§ä½¿ã‚ã‚Œã¾ã™ã€‚"
---

å°å…¥æ–‡ï¼ˆãƒªãƒ¼ãƒ‰ï¼‰ã€‚
ã“ã“ã«1ã€œ2æ–‡ã§è¦ç‚¹ã‚’æ›¸ãã¾ã™ã€‚

<!--more-->

## è¦‹å‡ºã—
æœ¬æ–‡ã‚’ Markdown ã§æ›¸ãã¾ã™ã€‚**å¼·èª¿**ã€*æ–œä½“*ã€`ã‚³ãƒ¼ãƒ‰` ã‚‚OKã€‚

- ç®‡æ¡æ›¸ã
- è¡¨ç¾ã‚’ãã‚ãˆã‚‹
- é•·ã„æ–‡ã¯æ®µè½ã§åˆ†ã‘ã‚‹

ç”»åƒï¼š
![å‡¦ç†ãƒ•ãƒ­ãƒ¼ã®å›³](chart.png)

ã‚³ãƒ¼ãƒ‰ãƒ–ãƒ­ãƒƒã‚¯ï¼š
```bash
hugo --gc --minify
ãƒªãƒ³ã‚¯ï¼š
* ç¤¾ã®ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆå†…éƒ¨ãƒªãƒ³ã‚¯ï¼‰
* å¤–éƒ¨ã‚µã‚¤ãƒˆ

> `<!--more-->` ã‚ˆã‚Šä¸ŠãŒä¸€è¦§ã®æŠœç²‹ã«ãªã‚Šã¾ã™ã€‚

## ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
```bash
hugo server -D
# http://localhost:1313/blog/ ï¼ˆ-D ã§ draft ã‚‚è¡¨ç¤ºï¼‰
å…¬é–‹
index.md ã®ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã‚’ draft: false ã«ã€date: ã‚’éå»æ™‚åˆ»ã«ã—ã¦ã‹ã‚‰ï¼š

git add content/posts/first-test
git commit -m "publish: first-test"
git push
ï¼ˆGitHub Actions ãŒè‡ªå‹•ã§ãƒ“ãƒ«ãƒ‰ï¼†ãƒ‡ãƒ—ãƒ­ã‚¤ã€‚?nocache=1 ã§åæ˜ ç¢ºèªãŒæ—©ã„ã§ã™ï¼‰
æ›´æ–°

# index.md ã‚„ç”»åƒã‚’ç·¨é›†å¾Œ
git add content/posts/first-test
git commit -m "update: first-testï¼ˆæœ¬æ–‡/ç”»åƒãªã©ï¼‰"
git push
å‰Šé™¤

git rm -r content/posts/first-test
git commit -m "remove: first-test"
git push
ã‚ˆãã‚ã‚‹è³ªå•
* è¨˜äº‹ã®ä¸¦ã³é †ã¯ï¼Ÿdate: ã®é™é †ï¼ˆæ–°ã—ã„é †ï¼‰ã€‚é †ç•ªã‚’å¤‰ãˆãŸã„æ™‚ã¯ date ã‚’èª¿æ•´ã€‚æœªæ¥æ—¥ä»˜ã‚„ draft:true ã¯æœ¬ç•ªã§ã¯éè¡¨ç¤ºã€‚
* URLï¼ˆã‚¹ãƒ©ãƒƒã‚°ï¼‰ã‚’å¤‰ãˆãŸã„ãƒ•ã‚©ãƒ«ãƒ€åã‚’å¤‰ãˆã‚‹ã¨URLã‚‚å¤‰ã‚ã‚Šã¾ã™ã€‚æ—§URLã‹ã‚‰è»¢é€ã—ãŸã„å ´åˆã¯ front matter ã«ï¼šaliases: ["/posts/old-slug/"]
* 
* ã†ã¾ãåæ˜ ã•ã‚Œãªã„
    * ãƒ–ãƒ©ã‚¦ã‚¶ã§ ?nocache=1 ã‚’ä»˜ã‘ã¦å†èª­ã¿è¾¼ã¿
    * GitHub Actions ãŒæˆåŠŸã—ã¦ã„ã‚‹ã‹ç¢ºèª
    * ãã‚Œã§ã‚‚å¤ã„è¡¨ç¤ºãŒæ®‹ã‚‹æ™‚ã¯ã€æ‰‹å‹•ã§ /blog/ ã‚’ã‚¯ãƒªãƒ¼ãƒ³â†’public/ ã‚’å†ã‚¢ãƒƒãƒ—ï¼ˆå…ˆã»ã©ã® lftp æ‰‹é †ï¼‰
***************************************
ãƒ–ãƒ­ã‚°ã®åæ˜ ãŒé…ã„æ™‚ã®å‡¦ç½®
1) ãƒ­ãƒ¼ã‚«ãƒ«ã§ first-test ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

hugo --gc --minify --cleanDestinationDir --baseURL "https://miraiaxis.com/blog/"

# è¨˜äº‹URLãŒå…¥ã£ã¦ã„ã‚‹ã‹ï¼ˆãƒ’ãƒƒãƒˆã™ã‚Œã°OKï¼‰
grep -o '"/blog/posts/first-test/"' public/index.json

# å˜ä½“ãƒšãƒ¼ã‚¸ã®å…ˆé ­ã‚’ç¢ºèª
head -n 20 public/posts/first-test/index.html
â†’ ã“ã“ã§ OK ãªã‚‰ã€Œãƒ“ãƒ«ãƒ‰ç‰©ã¯æ­£ã—ã„ã€ï¼ã‚µãƒ¼ãƒåæ˜  or ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å•é¡Œã«çµã‚Œã¾ã™ã€‚

2) ã‚µãƒ¼ãƒå´ã«ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚‹ã‹ç›´æ¥è¦‹ã‚‹ï¼ˆèª­ã¿å–ã‚Šã ã‘ï¼‰

read -s -p "FTP password: " FTP_PASS; echo
lftp -u 'ftp@mirainozaki.xsrv.jp',"$FTP_PASS" sv7487.xserver.jp -e "\
set ftp:ssl-force true; set ftp:ssl-protect-data true; set ftp:passive-mode true; \
cd miraiaxis.com/public_html/blog; \
echo '=== PWD / LIST ==='; pwd; ls -la; \
echo '=== posts/first-test/ ==='; ls -la posts/first-test; \
echo '=== index.json(head) ==='; cat index.json | head -c 300; echo; \
echo '=== first-test(index.html head) ==='; cat posts/first-test/index.html | head -n 20; \
bye"
* posts/first-test/ ãŒç„¡ã„ â†’ æœªã‚¢ãƒƒãƒ—
* index.json ã« /blog/posts/first-test/ ãŒç„¡ã„ â†’ ãƒˆãƒƒãƒ—JSONæœªæ›´æ–°
* ä¸¡æ–¹ã‚ã‚‹ã®ã«è¡¨ç¤ºã•ã‚Œãªã„ â†’ ãƒ–ãƒ©ã‚¦ã‚¶/ä¸­ç¶™ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®å¯èƒ½æ€§ãŒé«˜ã„ï¼ˆ?nocache=1 ã§å›é¿ï¼‰

3) æ‰‹å‹•ã§â€œå…¬æ­£ãªä¸€å¼â€ã‚’å†é…ç½®ï¼ˆå®‰å…¨ç‰ˆï¼‰
Actions ãŒæˆåŠŸã§ã‚‚åæ˜ ã«ã‚ºãƒ¬ãŒã‚ã‚‹æ™‚ã¯ã€ä¸€åº¦ãƒ­ãƒ¼ã‚«ãƒ«ã® public/ ã‚’ãã®ã¾ã¾ä¸Šã’ç›´ã™ã¨å³è§£æ±ºã—ã¾ã™ã€‚

# 2) ã¨åŒã˜è¦é ˜ã§ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å…¥åŠ›
read -s -p "FTP password: " FTP_PASS; echo
lftp -u 'ftp@mirainozaki.xsrv.jp',"$FTP_PASS" sv7487.xserver.jp -e "\
set ftp:ssl-force true; set ftp:ssl-protect-data true; set ftp:passive-mode true; \
cd miraiaxis.com/public_html/blog; \
lcd public; \
mirror -R --delete --verbose . .; \
ls -la; \
bye"

4) è¡¨ç¤ºç¢ºèªï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ç„¡è¦–ï¼‰
* ä¸€è¦§ï¼šhttps://miraiaxis.com/blog/?nocache=901
* è¨˜äº‹ï¼šhttps://miraiaxis.com/blog/posts/first-test/?nocache=901
* JSONï¼šhttps://miraiaxis.com/blog/index.json?nocache=901 ã« /blog/posts/first-test/ ãŒå«ã¾ã‚Œã¦ã„ã‚‹

5) ã‚‚ã—ã¾ã ãƒ€ãƒ¡ãªã‚‰è¦‹ã‚‹ãƒã‚¤ãƒ³ãƒˆï¼ˆé€Ÿãƒã‚§ãƒƒã‚¯ï¼‰
* content/posts/first-test/index.md ã® front matter ãŒdraft: false ï¼† date: ãŒ éå»æ™‚åˆ»ï¼ˆæœªæ¥ã ã¨æœ¬ç•ªã§éè¡¨ç¤ºï¼‰
* Actions ã® Build step ãŒhugo --gc --minify --baseURL "https://miraiaxis.com/blog/" ã«ãªã£ã¦ã„ã‚‹
* Actions ã® FTPSãƒ­ã‚°ã«lcd public â†’ mirror -R --delete â†’ Uploading posts/first-test/index.htmlã®è¡ŒãŒå‡ºã¦ã„ã‚‹ï¼ˆserver-dir ãŒ .../public_html/blog/ ã§åˆã£ã¦ã„ã‚‹ï¼‰

ã“ã‚Œã§ã€Œã©ã“ã§æ­¢ã¾ã£ã¦ã„ã‚‹ã‹ã€ãŒå¿…ãšåˆ†ã‹ã‚Šã¾ã™ã€‚ä¸Šã® lftp å‡ºåŠ›ã§
* posts/first-test/ ãŒç„¡ã„
* index.json ã«å‡ºã¦ã„ãªã„
* ã©ã¡ã‚‰ã‚‚ã‚ã‚‹

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
3) FTPS ã®ãƒªãƒˆãƒ©ã‚¤ï¼†ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚’æ˜ç¤º
Xserver å´ã§ãŸã¾ã« LIST/æ¥ç¶šãŒã‚‚ãŸã¤ãã®ã§ã€lftp ã«å†æ¥ç¶šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’ä»˜ã‘ã¦ãŠãã¾ã™ã€‚

- name: Deploy via FTPS (lftp)
  env:
    FTP_HOST: ${{ secrets.FTP_HOST }}
    FTP_USER: ${{ secrets.FTP_USER }}
    FTP_PASSWORD: ${{ secrets.FTP_PASSWORD }}
  run: |
    lftp -u "$FTP_USER","$FTP_PASSWORD" "$FTP_HOST" <<'EOF'
    set ftp:ssl-force true
    set ftp:ssl-protect-data true
    set ftp:passive-mode true
    set net:timeout 30
    set net:max-retries 3
    set net:reconnect-interval-base 5
    set net:reconnect-interval-multiplier 1.5
    set xfer:clobber on
    cd miraiaxis.com/public_html/blog
    lcd public
    mirror -R --delete --verbose --parallel=2 --exclude-glob .DS_Store .
    ls -la
    bye
    EOF
--parallel=2 ãã‚‰ã„ãŒå®‰å®šã€‚å¤šã™ãã‚‹ã¨é€†ã«å¤±æ•—ç‡ãŒä¸ŠãŒã‚Šã¾ã™ã€‚

é‹ç”¨ãƒŸãƒ‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆå†æ²ãƒ»ä¿å­˜ç‰ˆï¼‰
* å…¬é–‹å‰ã« index.md ã®draft: false / date: ï¼ˆéå»æ™‚åˆ»ï¼‰
* ãƒ­ãƒ¼ã‚«ãƒ«è©¦é¨“ï¼šhugo server -D
* push å¾Œã®ç¢ºèªï¼š
    * ä¸€è¦§ï¼š/blog/?nocache=1
    * JSONï¼š/blog/index.json?nocache=1
* ã‚‚ã—ç™½ã„ï¼šãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ or ã‚µãƒ¼ãƒæ®‹éª¸ã€‚â†’ Actions æˆåŠŸã‚’ç¢ºèª â†’ ãã‚Œã§ã‚‚ãƒ€ãƒ¡ãªã‚‰ æ‰‹å‹•å†é…ç½®ï¼ˆä»Šå›ã® lftp ã‚³ãƒãƒ³ãƒ‰ï¼‰ã€‚

ã•ã‚‰ã«å …ç‰¢ã«ã—ãŸã„å ´åˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
* concurrency ã§åŒæ™‚å®Ÿè¡Œã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ï¼šconcurrency:
*   group: deploy-blog
*   cancel-in-progress: true
* 
* å³ã‚«ãƒ©ãƒ ã® JSON å–å¾—å´ã¯ ?t=${Date.now()} ã§æ¯å›ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚¹ãƒˆï¼ˆæ—¢ã«å¯¾å¿œæ¸ˆã¿ãªã‚‰OKï¼‰ã€‚

ã“ã‚Œã§ â€œä¸€ç™ºã§å‡ºãªã„â€ ã‚±ãƒ¼ã‚¹ãŒã»ã¼æ½°ã›ã¾ã™ã€‚ã¾ãŸä½•ã‹ã‚ã‚Œã°é æ…®ãªãã©ã†ãï¼æ¬¡ã®ãƒãƒ£ãƒƒãƒˆï¼ˆâ‘ ã¾ã¨ã‚è¨˜äº‹ã€â‘¡ãƒ–ãƒ­ãƒƒã‚¯ãƒã‚§ãƒ¼ãƒ³ç¶šãï¼‰ã‚‚æ¥½ã—ã¿ã«ã—ã¦ã¾ã™ ğŸ™Œ
